{% load humanize %}
<div class="row tab-pane fade{% if active_tab == 'contributions' %} show active{% endif %}" id="contributions" role="tabpanel">
    {% if user_profile_activity %}
        <div class="d-flex justify-content-start">
            <div class="col-md">
                <div class="d-flex">
                    <h2>My Contributions</h2>
                </div>
                <div>
                    <label><b>Account created: </b></label> {{ user.date_joined|date:"SHORT_DATE_FORMAT" }}
                </div>
                <div class="d-lg-flex" style="margin-right: -0.5rem; margin-left: -0.5rem;">
                    <div class="contribution-highlight">
                        <div class="value">{{ user_profile_activity.count|intcomma }}</div>
                        <p class="label">Campaigns</p>
                    </div>
                    <div class="contribution-highlight">
                        <div class="value">{{ pages_worked_on|intcomma }}</div>
                        <p class="label">Pages Worked On</p>
                    </div>
                    <div class="contribution-highlight">
                        <div class="value">{{ totalCount|intcomma }}</div>
                        <p class="label">Actions</p>
                    </div>
                </div>
                <div class="d-flex mt-4">
                    <table id="tblTranscription" class="table table-striped table-sm table-responsive-sm contribution-table">
                        <thead class="border-y">
                            <tr>
                                <th></th>
                                <th>Campaign</th>
                                <th>
                                    <abbr title="Total number of times you saved, submitted a transcription" class="text-decoration-none">Saves & Submits</abbr>
                                </th>
                                <th>
                                    <abbr title="Total number of times you reviewed a transcription" class="text-decoration-none">Reviews</abbr>
                                </th>
                                <th><abbr title="Total number of times you saved, submitted, or reviewed a transcription" class="text-decoration-none">Total Actions</abbr></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="py-2"></td>
                                <td class="campaign all-campaigns py-2" id="-1">
                                    <b><a href="{% url 'campaign-topic-list' %}">All Campaigns</a></b>
                                </td>
                                <td class="py-2"><b>{{ totalTranscriptions|intcomma }}</b></td>
                                <td class="py-2"><b>{{ totalReviews|intcomma }}</b></td>
                                <td class="py-2"><b>{{ totalCount|intcomma }}</b></td>
                            </tr>
                            {% for user_campaign in user_profile_activity %}
                                <tr>
                                    <td></td>
                                    <td>
                                        <a class="campaign py-2" id={{user_campaign.campaign.id}} href="{% url 'transcriptions:campaign-detail' user_campaign.campaign.slug %}">
                                            {{ user_campaign.campaign.title }}
                                        </a>
                                    </td>
                                    <td class="py-2">{{ user_campaign.transcribe_count|intcomma }}</td>
                                    <td class="py-2">{{ user_campaign.review_count|intcomma }}</td>
                                    <td class="py-2">{{ user_campaign.total_actions|intcomma }}</td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="d-flex justify-content-start service-letter">
                    <div class="col-12 col-md-10 py-3">
                        <h3>Service Letter</h3>
                        <div class="mb-3">Using <i>By the People</i> to fulfill service requirements? Download a letter verifying your volunteer contributions.<br/><a href="/resources">Find more info on service documentation here.</a></div>
                        <div class="row justify-content-start">
                            <div class="btn-row col-md-10">
                                <a class="btn btn-primary rounded-0" href="/letter">Download Letter</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</div>
